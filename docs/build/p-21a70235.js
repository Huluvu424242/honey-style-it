function t(t){return"function"==typeof t}function n(t){const n=t((t=>{Error.call(t),t.stack=(new Error).stack}));return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const s=n((t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map(((t,n)=>`${n+1}) ${t.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n}));function e(t,n){if(t){const s=t.indexOf(n);0<=s&&t.splice(s,1)}}class r{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const t of e)t.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(t(r))try{r()}catch(t){n=t instanceof s?t.errors:[t]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const t of i)try{c(t)}catch(t){n=null!=n?n:[],t instanceof s?n=[...n,...t.errors]:n.push(t)}}if(n)throw new s(n)}}add(t){var n;if(t&&t!==this)if(this.closed)c(t);else{if(t instanceof r){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&e(n,t)}remove(t){const{_teardowns:n}=this;n&&e(n,t),t instanceof r&&t._removeParent(this)}}r.EMPTY=(()=>{const t=new r;return t.closed=!0,t})();const i=r.EMPTY;function o(n){return n instanceof r||n&&"closed"in n&&t(n.remove)&&t(n.add)&&t(n.unsubscribe)}function c(n){t(n)?n():n.unsubscribe()}const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},h={setTimeout(...t){const{delegate:n}=h;return((null==n?void 0:n.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:n}=h;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function l(){}const a=f("C",void 0,void 0);function f(t,n,s){return{kind:t,value:n,error:s}}function d(t){t()}class g extends r{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,o(t)&&t.add(this)):this.destination=y}static create(t,n,s){return new p(t,n,s)}next(t){this.isStopped?w(function(t){return f("N",t,void 0)}(t),this):this._next(t)}error(t){this.isStopped?w(f("E",void 0,t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?w(a,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class p extends g{constructor(n,s,e){let r;if(super(),t(n))r=n;else if(n){let t;({next:r,error:s,complete:e}=n),this&&u.useDeprecatedNextContext?(t=Object.create(n),t.unsubscribe=()=>this.unsubscribe()):t=n,r=null==r?void 0:r.bind(t),s=null==s?void 0:s.bind(t),e=null==e?void 0:e.bind(t)}this.destination={next:r?v(r):l,error:v(null!=s?s:b),complete:e?v(e):l}}}function v(t){return(...n)=>{try{t(...n)}catch(t){!function(t){h.setTimeout((()=>{const{onUnhandledError:n}=u;if(!n)throw t;n(t)}))}(t)}}}function b(t){throw t}function w(t,n){const{onStoppedNotification:s}=u;s&&h.setTimeout((()=>s(t,n)))}const y={closed:!0,next:l,error:b,complete:l},m="function"==typeof Symbol&&Symbol.observable||"@@observable";function _(t){return t}class x{constructor(t){t&&(this._subscribe=t)}lift(t){const n=new x;return n.source=this,n.operator=t,n}subscribe(n,s,e){const r=(i=n)&&i instanceof g||function(n){return n&&t(n.next)&&t(n.error)&&t(n.complete)}(i)&&o(i)?n:new p(n,s,e);var i;return d((()=>{const{operator:t,source:n}=this;r.add(t?t.call(r,n):n?this._subscribe(r):this._trySubscribe(r))})),r}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return new(n=E(n))(((n,s)=>{const e=new p({next:n=>{try{t(n)}catch(t){s(t),e.unsubscribe()}},error:s,complete:n});this.subscribe(e)}))}_subscribe(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)}[m](){return this}pipe(...t){return(0===(n=t).length?_:1===n.length?n[0]:function(t){return n.reduce(((t,n)=>n(t)),t)})(this);var n}toPromise(t){return new(t=E(t))(((t,n)=>{let s;this.subscribe((t=>s=t),(t=>n(t)),(()=>t(s)))}))}}function E(t){var n;return null!==(n=null!=t?t:u.Promise)&&void 0!==n?n:Promise}x.create=t=>new x(t);const S=new x((t=>t.complete()));var P;!function(t){t.ERROR="error",t.WARNING="warn",t.DEBUG="debug",t.INFO="info",t.LOG="log"}(P||(P={}));const M=new class{constructor(t=!0){this.isLoggingActive=!0,this.isLoggingActive=t}disableLogging(){this.isLoggingActive=!1}enableLogging(){this.isLoggingActive=!0}setLogging(t){t?this.enableLogging():this.disableLogging()}log(t,n,...s){console&&this.isLoggingActive&&console[t.valueOf()](n,s)}logMessage(t,...n){this.log(P.LOG,t,n)}errorMessage(t,...n){this.log(P.ERROR,t,n)}warnMessage(t,...n){this.log(P.WARNING,t,n)}debugMessage(t,...n){this.log(P.DEBUG,t,n)}infoMessage(t,...n){this.log(P.INFO,t,n)}};export{i as E,x as O,r as S,e as a,S as b,n as c,d as e,M as l}