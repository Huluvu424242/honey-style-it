import{r as t,h as s,g as e,H as i}from"./p-d2f7350c.js";import{l as r}from"./p-f479a80a.js";import{c as n,O as h,e as o,E as c,S as l,a,b as u}from"./p-fd5ccc3e.js";const d=n((t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}));class f extends h{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const s=new b(this,this);return s.operator=t,s}_throwIfClosed(){if(this.closed)throw new d}next(t){o((()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const s of this.currentObservers)s.next(t)}}))}error(t){o((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:s}=this;for(;s.length;)s.shift().error(t)}}))}complete(){o((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:s,isStopped:e,observers:i}=this;return s||e?c:(this.currentObservers=null,i.push(t),new l((()=>{this.currentObservers=null,a(i,t)})))}_checkFinalizedStatuses(t){const{hasError:s,thrownError:e,isStopped:i}=this;s?t.error(e):i&&t.complete()}asObservable(){const t=new h;return t.source=this,t}}f.create=(t,s)=>new b(t,s);class b extends f{constructor(t,s){super(),this.destination=t,this.source=s}next(t){var s,e;null===(e=null===(s=this.destination)||void 0===s?void 0:s.next)||void 0===e||e.call(s,t)}error(t){var s,e;null===(e=null===(s=this.destination)||void 0===s?void 0:s.error)||void 0===e||e.call(s,t)}complete(){var t,s;null===(s=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===s||s.call(t)}_subscribe(t){var s,e;return null!==(e=null===(s=this.source)||void 0===s?void 0:s.subscribe(t))&&void 0!==e?e:c}}const m={now:()=>(m.delegate||Date).now(),delegate:void 0};class p extends f{constructor(t=1/0,s=1/0,e=m){super(),this._bufferSize=t,this._windowTime=s,this._timestampProvider=e,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=s===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,s)}next(t){const{isStopped:s,_buffer:e,_infiniteTimeWindow:i,_timestampProvider:r,_windowTime:n}=this;s||(e.push(t),!i&&e.push(r.now()+n)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const s=this._innerSubscribe(t),{_infiniteTimeWindow:e,_buffer:i}=this,r=i.slice();for(let s=0;s<r.length&&!t.closed;s+=e?1:2)t.next(r[s]);return this._checkFinalizedStatuses(t),s}_trimBuffer(){const{_bufferSize:t,_timestampProvider:s,_buffer:e,_infiniteTimeWindow:i}=this,r=(i?1:2)*t;if(t<1/0&&r<e.length&&e.splice(0,e.length-r),!i){const t=s.now();let i=0;for(let s=1;s<e.length&&e[s]<=t;s+=2)i=s;i&&e.splice(0,i+1)}}}const y=class{constructor(s){t(this,s)}connectedCallback(){this.styleNameSubscription=u.subscribe(this.createStyleNameChangeListener())}disconnectedCallback(){this.styleNameSubscription.unsubscribe()}async componentWillLoad(){try{await customElements.whenDefined("honey-define-style");const t=document.querySelector("honey-define-style");this.styleNameSubscription.unsubscribe(),this.styleNameSubscription=await t.subscribeThemeChangeListener(this.createStyleNameChangeListener())}catch(t){this.styleName="honey-default-style"}}createStyleNameChangeListener(){return{next:t=>this.styleName=t,error:t=>r.errorMessage(t),complete:()=>r.debugMessage("subcription <honey-apply-style> completed")}}render(){return s(this.styleName,null)}},v=class{constructor(s){t(this,s),this.styleName$=new p(1)}computeTheme(){const t=this.host.children.item(0).tagName;t&&this.styleName$.next(t.toLowerCase())}async componentWillLoad(){try{await this.computeTheme()}catch(t){r.warnMessage(t)}}async subscribeThemeChangeListener(t){return this.styleName$.subscribe(t)}async getStyleName$(){return this.styleName$.asObservable()}async recomputeTheme(){this.computeTheme()}async setNewTheme(t){const s=document.createElement(t);this.host.replaceChild(s,this.host.children[0]),await this.recomputeTheme()}render(){return s(i,null)}get host(){return e(this)}},_=class{constructor(s){t(this,s),this.changeTheme=()=>{this.themeName&&this.themeName.length>0?document.getElementsByTagName("honey-define-style")[0].setNewTheme(this.themeName):r.warnMessage("No theme attribute defined for button")}}render(){return s(i,null,s("honey-apply-style",null),s("a",{class:"navbar-item button is-rounded is-success",onClick:this.changeTheme},s("slot",null)))}get host(){return e(this)}};export{y as honey_apply_style,v as honey_define_style,_ as honey_select_style}