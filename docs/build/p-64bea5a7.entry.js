import{r as t,h as s,g as e,H as i}from"./p-3b378a20.js";import{p as n,a as r,b as o}from"./p-d3cadd14.js";const h=class{constructor(s){t(this,s)}async connectedCallback(){try{await customElements.whenDefined("honey-define-style");const t=document.querySelector("honey-define-style"),s={next:t=>this.theme=t,error:t=>n(t),complete:()=>r("subcription completed")};this.themeSubscription=await t.subscribeThemeChangeListener(s)}catch(t){this.theme="honey-default-style"}}disconnectedCallback(){this.themeSubscription.unsubscribe()}render(){return s(this.theme,null)}};function c(t){return"function"==typeof t}function u(t){const s=t((t=>{Error.call(t),t.stack=(new Error).stack}));return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s}const l=u((t=>function(s){t(this),this.message=s?`${s.length} errors occurred during unsubscription:\n${s.map(((t,s)=>`${s+1}) ${t.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=s}));function a(t,s){if(t){const e=t.indexOf(s);0<=e&&t.splice(e,1)}}class d{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:s}=this;if(s)if(this._parentage=null,Array.isArray(s))for(const t of s)t.remove(this);else s.remove(this);const{initialTeardown:e}=this;if(c(e))try{e()}catch(s){t=s instanceof l?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{p(s)}catch(s){t=null!=t?t:[],s instanceof l?t=[...t,...s.errors]:t.push(s)}}if(t)throw new l(t)}}add(t){var s;if(t&&t!==this)if(this.closed)p(t);else{if(t instanceof d){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(s=this._teardowns)&&void 0!==s?s:[]).push(t)}}_hasParent(t){const{_parentage:s}=this;return s===t||Array.isArray(s)&&s.includes(t)}_addParent(t){const{_parentage:s}=this;this._parentage=Array.isArray(s)?(s.push(t),s):s?[s,t]:t}_removeParent(t){const{_parentage:s}=this;s===t?this._parentage=null:Array.isArray(s)&&a(s,t)}remove(t){const{_teardowns:s}=this;s&&a(s,t),t instanceof d&&t._removeParent(this)}}d.EMPTY=(()=>{const t=new d;return t.closed=!0,t})();const f=d.EMPTY;function b(t){return t instanceof d||t&&"closed"in t&&c(t.remove)&&c(t.add)&&c(t.unsubscribe)}function p(t){c(t)?t():t.unsubscribe()}const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},m={setTimeout(...t){const{delegate:s}=m;return((null==s?void 0:s.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:s}=m;return((null==s?void 0:s.clearTimeout)||clearTimeout)(t)},delegate:void 0};function y(){}const _=w("C",void 0,void 0);function w(t,s,e){return{kind:t,value:s,error:e}}function x(t){t()}class g extends d{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,b(t)&&t.add(this)):this.destination=C}static create(t,s,e){return new E(t,s,e)}next(t){this.isStopped?P(function(t){return w("N",t,void 0)}(t),this):this._next(t)}error(t){this.isStopped?P(w("E",void 0,t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?P(_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class E extends g{constructor(t,s,e){let i;if(super(),c(t))i=t;else if(t){let n;({next:i,error:s,complete:e}=t),this&&v.useDeprecatedNextContext?(n=Object.create(t),n.unsubscribe=()=>this.unsubscribe()):n=t,i=null==i?void 0:i.bind(n),s=null==s?void 0:s.bind(n),e=null==e?void 0:e.bind(n)}this.destination={next:i?S(i):y,error:S(null!=s?s:T),complete:e?S(e):y}}}function S(t){return(...s)=>{try{t(...s)}catch(t){!function(t){m.setTimeout((()=>{const{onUnhandledError:s}=v;if(!s)throw t;s(t)}))}(t)}}}function T(t){throw t}function P(t,s){const{onStoppedNotification:e}=v;e&&m.setTimeout((()=>e(t,s)))}const C={closed:!0,next:y,error:T,complete:y},j="function"==typeof Symbol&&Symbol.observable||"@@observable";function k(t){return t}class N{constructor(t){t&&(this._subscribe=t)}lift(t){const s=new N;return s.source=this,s.operator=t,s}subscribe(t,s,e){const i=(n=t)&&n instanceof g||function(t){return t&&c(t.next)&&c(t.error)&&c(t.complete)}(n)&&b(n)?t:new E(t,s,e);var n;return x((()=>{const{operator:t,source:s}=this;i.add(t?t.call(i,s):s?this._subscribe(i):this._trySubscribe(i))})),i}_trySubscribe(t){try{return this._subscribe(t)}catch(s){t.error(s)}}forEach(t,s){return new(s=A(s))(((s,e)=>{let i;i=this.subscribe((s=>{try{t(s)}catch(t){e(t),null==i||i.unsubscribe()}}),e,s)}))}_subscribe(t){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(t)}[j](){return this}pipe(...t){return(0===(s=t).length?k:1===s.length?s[0]:function(t){return s.reduce(((t,s)=>s(t)),t)})(this);var s}toPromise(t){return new(t=A(t))(((t,s)=>{let e;this.subscribe((t=>e=t),(t=>s(t)),(()=>t(e)))}))}}function A(t){var s;return null!==(s=null!=t?t:v.Promise)&&void 0!==s?s:Promise}N.create=t=>new N(t);const O=u((t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}));class U extends N{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const s=new W(this,this);return s.operator=t,s}_throwIfClosed(){if(this.closed)throw new O}next(t){x((()=>{if(this._throwIfClosed(),!this.isStopped){const s=this.observers.slice();for(const e of s)e.next(t)}}))}error(t){x((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:s}=this;for(;s.length;)s.shift().error(t)}}))}complete(){x((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:s,isStopped:e,observers:i}=this;return s||e?f:(i.push(t),new d((()=>a(i,t))))}_checkFinalizedStatuses(t){const{hasError:s,thrownError:e,isStopped:i}=this;s?t.error(e):i&&t.complete()}asObservable(){const t=new N;return t.source=this,t}}U.create=(t,s)=>new W(t,s);class W extends U{constructor(t,s){super(),this.destination=t,this.source=s}next(t){var s,e;null===(e=null===(s=this.destination)||void 0===s?void 0:s.next)||void 0===e||e.call(s,t)}error(t){var s,e;null===(e=null===(s=this.destination)||void 0===s?void 0:s.error)||void 0===e||e.call(s,t)}complete(){var t,s;null===(s=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===s||s.call(t)}_subscribe(t){var s,e;return null!==(e=null===(s=this.source)||void 0===s?void 0:s.subscribe(t))&&void 0!==e?e:f}}const $={now:()=>($.delegate||Date).now(),delegate:void 0};class D extends U{constructor(t=1/0,s=1/0,e=$){super(),this._bufferSize=t,this._windowTime=s,this._timestampProvider=e,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=s===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,s)}next(t){const{isStopped:s,_buffer:e,_infiniteTimeWindow:i,_timestampProvider:n,_windowTime:r}=this;s||(e.push(t),!i&&e.push(n.now()+r)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const s=this._innerSubscribe(t),{_infiniteTimeWindow:e,_buffer:i}=this,n=i.slice();for(let s=0;s<n.length&&!t.closed;s+=e?1:2)t.next(n[s]);return this._checkFinalizedStatuses(t),s}_trimBuffer(){const{_bufferSize:t,_timestampProvider:s,_buffer:e,_infiniteTimeWindow:i}=this,n=(i?1:2)*t;if(t<1/0&&n<e.length&&e.splice(0,e.length-n),!i){const t=s.now();let i=0;for(let s=1;s<e.length&&e[s]<=t;s+=2)i=s;i&&e.splice(0,i+1)}}}const z=class{constructor(s){t(this,s),this.theme=new D(1)}computeTheme(){const t=this.host.children.item(0).tagName;t&&this.theme.next(t.toLowerCase())}async componentWillLoad(){try{this.computeTheme()}catch(t){o(t)}}async subscribeThemeChangeListener(t){return await this.theme.subscribe(t)}async recomputeTheme(){this.computeTheme()}render(){return s(i,null)}get host(){return e(this)}},H=class{constructor(s){t(this,s),this.changeTheme=()=>{if(this.themeName&&this.themeName.length>0){const t=document.getElementsByTagName("honey-define-style")[0],s=document.createElement(this.themeName);t.replaceChild(s,t.children[0]),t.recomputeTheme()}else o("No theme attribute defined for button")}}render(){return s(i,null,s("honey-apply-style",null),s("button",{onClick:this.changeTheme},s("slot",null)))}get host(){return e(this)}};export{h as honey_apply_style,z as honey_define_style,H as honey_select_style}