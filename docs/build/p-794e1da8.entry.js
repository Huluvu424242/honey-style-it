import{r as t,h as s,g as e,H as i}from"./p-9ba95d79.js";const n=t=>{console&&console.warn(t)},r=class{constructor(s){t(this,s)}async componentWillLoad(){try{await customElements.whenDefined("honey-define-style");const t=document.querySelector("honey-define-style"),s={next:t=>this.theme=t,error:t=>{console&&console.error(t)},complete:()=>("subcription completed",void(console&&console.debug("subcription completed")))};this.themeSubscription=await t.subscribeThemeChangeListener(s)}catch(t){this.theme="honey-default-style"}}disconnectedCallback(){this.themeSubscription.unsubscribe()}render(){return s(this.theme,null)}};function o(t){return"function"==typeof t}function c(t){const s=t((t=>{Error.call(t),t.stack=(new Error).stack}));return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s}const h=c((t=>function(s){t(this),this.message=s?`${s.length} errors occurred during unsubscription:\n${s.map(((t,s)=>`${s+1}) ${t.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=s}));function u(t,s){if(t){const e=t.indexOf(s);0<=e&&t.splice(e,1)}}class l{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:s}=this;if(s)if(this._parentage=null,Array.isArray(s))for(const t of s)t.remove(this);else s.remove(this);const{initialTeardown:e}=this;if(o(e))try{e()}catch(s){t=s instanceof h?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{f(s)}catch(s){t=null!=t?t:[],s instanceof h?t=[...t,...s.errors]:t.push(s)}}if(t)throw new h(t)}}add(t){var s;if(t&&t!==this)if(this.closed)f(t);else{if(t instanceof l){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(s=this._teardowns)&&void 0!==s?s:[]).push(t)}}_hasParent(t){const{_parentage:s}=this;return s===t||Array.isArray(s)&&s.includes(t)}_addParent(t){const{_parentage:s}=this;this._parentage=Array.isArray(s)?(s.push(t),s):s?[s,t]:t}_removeParent(t){const{_parentage:s}=this;s===t?this._parentage=null:Array.isArray(s)&&u(s,t)}remove(t){const{_teardowns:s}=this;s&&u(s,t),t instanceof l&&t._removeParent(this)}}l.EMPTY=(()=>{const t=new l;return t.closed=!0,t})();const a=l.EMPTY;function d(t){return t instanceof l||t&&"closed"in t&&o(t.remove)&&o(t.add)&&o(t.unsubscribe)}function f(t){o(t)?t():t.unsubscribe()}const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},b={setTimeout(...t){const{delegate:s}=b;return((null==s?void 0:s.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:s}=b;return((null==s?void 0:s.clearTimeout)||clearTimeout)(t)},delegate:void 0};function v(){}const m=y("C",void 0,void 0);function y(t,s,e){return{kind:t,value:s,error:e}}function _(t){t()}class w extends l{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,d(t)&&t.add(this)):this.destination=T}static create(t,s,e){return new x(t,s,e)}next(t){this.isStopped?S(function(t){return y("N",t,void 0)}(t),this):this._next(t)}error(t){this.isStopped?S(y("E",void 0,t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?S(m,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class x extends w{constructor(t,s,e){let i;if(super(),o(t))i=t;else if(t){let n;({next:i,error:s,complete:e}=t),this&&p.useDeprecatedNextContext?(n=Object.create(t),n.unsubscribe=()=>this.unsubscribe()):n=t,i=null==i?void 0:i.bind(n),s=null==s?void 0:s.bind(n),e=null==e?void 0:e.bind(n)}this.destination={next:i?g(i):v,error:g(null!=s?s:E),complete:e?g(e):v}}}function g(t){return(...s)=>{try{t(...s)}catch(t){!function(t){b.setTimeout((()=>{const{onUnhandledError:s}=p;if(!s)throw t;s(t)}))}(t)}}}function E(t){throw t}function S(t,s){const{onStoppedNotification:e}=p;e&&b.setTimeout((()=>e(t,s)))}const T={closed:!0,next:v,error:E,complete:v},P="function"==typeof Symbol&&Symbol.observable||"@@observable";function C(t){return t}class j{constructor(t){t&&(this._subscribe=t)}lift(t){const s=new j;return s.source=this,s.operator=t,s}subscribe(t,s,e){const i=(n=t)&&n instanceof w||function(t){return t&&o(t.next)&&o(t.error)&&o(t.complete)}(n)&&d(n)?t:new x(t,s,e);var n;return _((()=>{const{operator:t,source:s}=this;i.add(t?t.call(i,s):s?this._subscribe(i):this._trySubscribe(i))})),i}_trySubscribe(t){try{return this._subscribe(t)}catch(s){t.error(s)}}forEach(t,s){return new(s=N(s))(((s,e)=>{let i;i=this.subscribe((s=>{try{t(s)}catch(t){e(t),null==i||i.unsubscribe()}}),e,s)}))}_subscribe(t){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(t)}[P](){return this}pipe(...t){return(0===(s=t).length?C:1===s.length?s[0]:function(t){return s.reduce(((t,s)=>s(t)),t)})(this);var s}toPromise(t){return new(t=N(t))(((t,s)=>{let e;this.subscribe((t=>e=t),(t=>s(t)),(()=>t(e)))}))}}function N(t){var s;return null!==(s=null!=t?t:p.Promise)&&void 0!==s?s:Promise}j.create=t=>new j(t);const W=c((t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}));class k extends j{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const s=new A(this,this);return s.operator=t,s}_throwIfClosed(){if(this.closed)throw new W}next(t){_((()=>{if(this._throwIfClosed(),!this.isStopped){const s=this.observers.slice();for(const e of s)e.next(t)}}))}error(t){_((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:s}=this;for(;s.length;)s.shift().error(t)}}))}complete(){_((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:s,isStopped:e,observers:i}=this;return s||e?a:(i.push(t),new l((()=>u(i,t))))}_checkFinalizedStatuses(t){const{hasError:s,thrownError:e,isStopped:i}=this;s?t.error(e):i&&t.complete()}asObservable(){const t=new j;return t.source=this,t}}k.create=(t,s)=>new A(t,s);class A extends k{constructor(t,s){super(),this.destination=t,this.source=s}next(t){var s,e;null===(e=null===(s=this.destination)||void 0===s?void 0:s.next)||void 0===e||e.call(s,t)}error(t){var s,e;null===(e=null===(s=this.destination)||void 0===s?void 0:s.error)||void 0===e||e.call(s,t)}complete(){var t,s;null===(s=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===s||s.call(t)}_subscribe(t){var s,e;return null!==(e=null===(s=this.source)||void 0===s?void 0:s.subscribe(t))&&void 0!==e?e:a}}const O={now:()=>(O.delegate||Date).now(),delegate:void 0};class U extends k{constructor(t=1/0,s=1/0,e=O){super(),this._bufferSize=t,this._windowTime=s,this._timestampProvider=e,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=s===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,s)}next(t){const{isStopped:s,_buffer:e,_infiniteTimeWindow:i,_timestampProvider:n,_windowTime:r}=this;s||(e.push(t),!i&&e.push(n.now()+r)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const s=this._innerSubscribe(t),{_infiniteTimeWindow:e,_buffer:i}=this,n=i.slice();for(let s=0;s<n.length&&!t.closed;s+=e?1:2)t.next(n[s]);return this._checkFinalizedStatuses(t),s}_trimBuffer(){const{_bufferSize:t,_timestampProvider:s,_buffer:e,_infiniteTimeWindow:i}=this,n=(i?1:2)*t;if(t<1/0&&n<e.length&&e.splice(0,e.length-n),!i){const t=s.now();let i=0;for(let s=1;s<e.length&&e[s]<=t;s+=2)i=s;i&&e.splice(0,i+1)}}}const $=class{constructor(s){t(this,s),this.theme=new U(1)}computeTheme(){const t=this.host.children.item(0).tagName;t&&this.theme.next(t.toLowerCase())}async componentWillLoad(){try{this.computeTheme()}catch(t){n(t)}}async subscribeThemeChangeListener(t){return await this.theme.subscribe(t)}async recomputeTheme(){this.computeTheme()}render(){return s(i,null)}get host(){return e(this)}},D=class{constructor(s){t(this,s),this.changeTheme=()=>{if(this.themeName&&this.themeName.length>0){const t=document.getElementsByTagName("honey-define-style")[0],s=document.createElement(this.themeName);t.replaceChild(s,t.children[0]),t.recomputeTheme()}else n("No theme attribute defined for button")}}render(){return s(i,null,s("honey-apply-style",null),s("button",{onClick:this.changeTheme},s("slot",null)))}get host(){return e(this)}};export{r as honey_apply_style,$ as honey_define_style,D as honey_select_style}