function t(t){return"function"==typeof t}function n(t){const n=t((t=>{Error.call(t),t.stack=(new Error).stack}));return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const s=n((t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map(((t,n)=>`${n+1}) ${t.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n}));function r(t,n){if(t){const s=t.indexOf(n);0<=s&&t.splice(s,1)}}class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const t of r)t.remove(this);else r.remove(this);const{initialTeardown:e}=this;if(t(e))try{e()}catch(t){n=t instanceof s?t.errors:[t]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const t of i)try{c(t)}catch(t){n=null!=n?n:[],t instanceof s?n=[...n,...t.errors]:n.push(t)}}if(n)throw new s(n)}}add(t){var n;if(t&&t!==this)if(this.closed)c(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&r(n,t)}remove(t){const{_teardowns:n}=this;n&&r(n,t),t instanceof e&&t._removeParent(this)}}e.EMPTY=(()=>{const t=new e;return t.closed=!0,t})();const i=e.EMPTY;function o(n){return n instanceof e||n&&"closed"in n&&t(n.remove)&&t(n.add)&&t(n.unsubscribe)}function c(n){t(n)?n():n.unsubscribe()}const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},u={setTimeout(...t){const{delegate:n}=u;return((null==n?void 0:n.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:n}=u;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function a(){}const l=f("C",void 0,void 0);function f(t,n,s){return{kind:t,value:n,error:s}}function d(t){t()}class p extends e{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,o(t)&&t.add(this)):this.destination=_}static create(t,n,s){return new w(t,n,s)}next(t){this.isStopped?m(function(t){return f("N",t,void 0)}(t),this):this._next(t)}error(t){this.isStopped?m(f("E",void 0,t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?m(l,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const v=Function.prototype.bind;function g(t,n){return v.call(t,n)}class b{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(t){y(t)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(t){y(t)}else y(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(t){y(t)}}}class w extends p{constructor(n,s,r){let e;if(super(),t(n)||!n)e={next:null!=n?n:void 0,error:null!=s?s:void 0,complete:null!=r?r:void 0};else{let t;this&&h.useDeprecatedNextContext?(t=Object.create(n),t.unsubscribe=()=>this.unsubscribe(),e={next:n.next&&g(n.next,t),error:n.error&&g(n.error,t),complete:n.complete&&g(n.complete,t)}):e=n}this.destination=new b(e)}}function y(t){var n;n=t,u.setTimeout((()=>{const{onUnhandledError:t}=h;if(!t)throw n;t(n)}))}function m(t,n){const{onStoppedNotification:s}=h;s&&u.setTimeout((()=>s(t,n)))}const _={closed:!0,next:a,error:function(t){throw t},complete:a},x="function"==typeof Symbol&&Symbol.observable||"@@observable";function E(t){return t}class S{constructor(t){t&&(this._subscribe=t)}lift(t){const n=new S;return n.source=this,n.operator=t,n}subscribe(n,s,r){const e=(i=n)&&i instanceof p||function(n){return n&&t(n.next)&&t(n.error)&&t(n.complete)}(i)&&o(i)?n:new w(n,s,r);var i;return d((()=>{const{operator:t,source:n}=this;e.add(t?t.call(e,n):n?this._subscribe(e):this._trySubscribe(e))})),e}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return new(n=O(n))(((n,s)=>{const r=new w({next:n=>{try{t(n)}catch(t){s(t),r.unsubscribe()}},error:s,complete:n});this.subscribe(r)}))}_subscribe(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)}[x](){return this}pipe(...t){return(0===(n=t).length?E:1===n.length?n[0]:function(t){return n.reduce(((t,n)=>n(t)),t)})(this);var n}toPromise(t){return new(t=O(t))(((t,n)=>{let s;this.subscribe((t=>s=t),(t=>n(t)),(()=>t(s)))}))}}function O(t){var n;return null!==(n=null!=t?t:h.Promise)&&void 0!==n?n:Promise}S.create=t=>new S(t);const P=new S((t=>t.complete()));var M;!function(t){t.ERROR="error",t.WARNING="warn",t.DEBUG="debug",t.INFO="info",t.LOG="log"}(M||(M={}));const T=new class{constructor(t=!0){this.isLoggingActive=!0,this.isLoggingActive=t}disableLogging(){this.isLoggingActive=!1}enableLogging(){this.isLoggingActive=!0}setLogging(t){t?this.enableLogging():this.disableLogging()}log(t,n,...s){console&&this.isLoggingActive&&console[t.valueOf()](n,...s)}logMessage(t,...n){this.log(M.LOG,t,...n)}errorMessage(t,...n){this.log(M.ERROR,t,...n)}warnMessage(t,...n){this.log(M.WARNING,t,...n)}debugMessage(t,...n){this.log(M.DEBUG,t,...n)}infoMessage(t,...n){this.log(M.INFO,t,...n)}};export{i as E,S as O,e as S,r as a,P as b,n as c,d as e,T as l}