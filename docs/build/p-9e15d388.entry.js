import{r as t,h as s,g as i,H as r}from"./p-c5a3e189.js";import{p as e}from"./p-e5d5004d.js";function n(t){return"function"==typeof t}function o(t){const s=t((t=>{Error.call(t),t.stack=(new Error).stack}));return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s}const h=o((t=>function(s){t(this),this.message=s?`${s.length} errors occurred during unsubscription:\n${s.map(((t,s)=>`${s+1}) ${t.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=s}));function c(t,s){if(t){const i=t.indexOf(s);0<=i&&t.splice(i,1)}}class u{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:s}=this;if(s)if(this._parentage=null,Array.isArray(s))for(const t of s)t.remove(this);else s.remove(this);const{initialTeardown:i}=this;if(n(i))try{i()}catch(s){t=s instanceof h?s.errors:[s]}const{_teardowns:r}=this;if(r){this._teardowns=null;for(const s of r)try{f(s)}catch(s){t=null!=t?t:[],s instanceof h?t=[...t,...s.errors]:t.push(s)}}if(t)throw new h(t)}}add(t){var s;if(t&&t!==this)if(this.closed)f(t);else{if(t instanceof u){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(s=this._teardowns)&&void 0!==s?s:[]).push(t)}}_hasParent(t){const{_parentage:s}=this;return s===t||Array.isArray(s)&&s.includes(t)}_addParent(t){const{_parentage:s}=this;this._parentage=Array.isArray(s)?(s.push(t),s):s?[s,t]:t}_removeParent(t){const{_parentage:s}=this;s===t?this._parentage=null:Array.isArray(s)&&c(s,t)}remove(t){const{_teardowns:s}=this;s&&c(s,t),t instanceof u&&t._removeParent(this)}}u.EMPTY=(()=>{const t=new u;return t.closed=!0,t})();const l=u.EMPTY;function a(t){return t instanceof u||t&&"closed"in t&&n(t.remove)&&n(t.add)&&n(t.unsubscribe)}function f(t){n(t)?t():t.unsubscribe()}const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},v={setTimeout(...t){const{delegate:s}=v;return((null==s?void 0:s.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:s}=v;return((null==s?void 0:s.clearTimeout)||clearTimeout)(t)},delegate:void 0};function p(){}const b=m("C",void 0,void 0);function m(t,s,i){return{kind:t,value:s,error:i}}function _(t){t()}class w extends u{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,a(t)&&t.add(this)):this.destination=S}static create(t,s,i){return new y(t,s,i)}next(t){this.isStopped?E(function(t){return m("N",t,void 0)}(t),this):this._next(t)}error(t){this.isStopped?E(m("E",void 0,t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?E(b,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class y extends w{constructor(t,s,i){let r;if(super(),n(t))r=t;else if(t){let e;({next:r,error:s,complete:i}=t),this&&d.useDeprecatedNextContext?(e=Object.create(t),e.unsubscribe=()=>this.unsubscribe()):e=t,r=null==r?void 0:r.bind(e),s=null==s?void 0:s.bind(e),i=null==i?void 0:i.bind(e)}this.destination={next:r?x(r):p,error:x(null!=s?s:g),complete:i?x(i):p}}}function x(t){return(...s)=>{try{t(...s)}catch(t){!function(t){v.setTimeout((()=>{const{onUnhandledError:s}=d;if(!s)throw t;s(t)}))}(t)}}}function g(t){throw t}function E(t,s){const{onStoppedNotification:i}=d;i&&v.setTimeout((()=>i(t,s)))}const S={closed:!0,next:p,error:g,complete:p},T="function"==typeof Symbol&&Symbol.observable||"@@observable";function P(t){return t}class j{constructor(t){t&&(this._subscribe=t)}lift(t){const s=new j;return s.source=this,s.operator=t,s}subscribe(t,s,i){const r=(e=t)&&e instanceof w||function(t){return t&&n(t.next)&&n(t.error)&&n(t.complete)}(e)&&a(e)?t:new y(t,s,i);var e;return _((()=>{const{operator:t,source:s}=this;r.add(t?t.call(r,s):s?this._subscribe(r):this._trySubscribe(r))})),r}_trySubscribe(t){try{return this._subscribe(t)}catch(s){t.error(s)}}forEach(t,s){return new(s=A(s))(((s,i)=>{let r;r=this.subscribe((s=>{try{t(s)}catch(t){i(t),null==r||r.unsubscribe()}}),i,s)}))}_subscribe(t){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(t)}[T](){return this}pipe(...t){return(0===(s=t).length?P:1===s.length?s[0]:function(t){return s.reduce(((t,s)=>s(t)),t)})(this);var s}toPromise(t){return new(t=A(t))(((t,s)=>{let i;this.subscribe((t=>i=t),(t=>s(t)),(()=>t(i)))}))}}function A(t){var s;return null!==(s=null!=t?t:d.Promise)&&void 0!==s?s:Promise}j.create=t=>new j(t);const C=o((t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}));class N extends j{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const s=new O(this,this);return s.operator=t,s}_throwIfClosed(){if(this.closed)throw new C}next(t){_((()=>{if(this._throwIfClosed(),!this.isStopped){const s=this.observers.slice();for(const i of s)i.next(t)}}))}error(t){_((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:s}=this;for(;s.length;)s.shift().error(t)}}))}complete(){_((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:s,isStopped:i,observers:r}=this;return s||i?l:(r.push(t),new u((()=>c(r,t))))}_checkFinalizedStatuses(t){const{hasError:s,thrownError:i,isStopped:r}=this;s?t.error(i):r&&t.complete()}asObservable(){const t=new j;return t.source=this,t}}N.create=(t,s)=>new O(t,s);class O extends N{constructor(t,s){super(),this.destination=t,this.source=s}next(t){var s,i;null===(i=null===(s=this.destination)||void 0===s?void 0:s.next)||void 0===i||i.call(s,t)}error(t){var s,i;null===(i=null===(s=this.destination)||void 0===s?void 0:s.error)||void 0===i||i.call(s,t)}complete(){var t,s;null===(s=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===s||s.call(t)}_subscribe(t){var s,i;return null!==(i=null===(s=this.source)||void 0===s?void 0:s.subscribe(t))&&void 0!==i?i:l}}const U={now:()=>(U.delegate||Date).now(),delegate:void 0};class W extends N{constructor(t=1/0,s=1/0,i=U){super(),this._bufferSize=t,this._windowTime=s,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=s===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,s)}next(t){const{isStopped:s,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:e,_windowTime:n}=this;s||(i.push(t),!r&&i.push(e.now()+n)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const s=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,e=r.slice();for(let s=0;s<e.length&&!t.closed;s+=i?1:2)t.next(e[s]);return this._checkFinalizedStatuses(t),s}_trimBuffer(){const{_bufferSize:t,_timestampProvider:s,_buffer:i,_infiniteTimeWindow:r}=this,e=(r?1:2)*t;if(t<1/0&&e<i.length&&i.splice(0,i.length-e),!r){const t=s.now();let r=0;for(let s=1;s<i.length&&i[s]<=t;s+=2)r=s;r&&i.splice(0,r+1)}}}const $=class{constructor(s){t(this,s),this.theme=new W(1)}computeTheme(){const t=this.host.children.item(0).tagName;t&&this.theme.next(t.toLowerCase())}async componentWillLoad(){try{this.computeTheme()}catch(t){e(t)}}async subscribeThemeChangeListener(t){return await this.theme.subscribe(t)}async recomputeTheme(){this.computeTheme()}render(){return s(r,null)}get host(){return i(this)}};$.style="";export{$ as honey_define_style}